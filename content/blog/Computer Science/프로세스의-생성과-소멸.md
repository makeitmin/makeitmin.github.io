---
title: 프로세스의 생성과 소멸
date: 2021-07-18 16:37:25
category: Computer Science
thumbnail: { thumbnailSrc }
draft: false
---

## 프로세스

프로세스란 프로세스별로 할당받는 리소스를 모두 포함하는 개념

- 가상 메모리 공간 + 프로세스 별로 독립적으로 사용하게 되는 레지스터 셋
- RAM 보다 더 큰 메모리 공간을 할당받았을 경우, `가상 메모리 공간`까지 사용
- 레지스터 셋은 현재 실행 중인 1개 프로세스의 정보를 보유
- 멀티스레드, 멀티프로세스 환경에서 성능을 높이는 이슈
- 레지스터 셋 1개당 프로세스 1개를 할당하는 방법

## 스케줄러

둘 이상의 프로세스가 적절히 실행되도록 컨트롤하는 작업 수행

- 스케줄러도 하나의 프로세스로 인식 가능
- 스케줄러를 가급적 적게 가동할 수 있다면 좋은 운영체제

## 프로세스의 상태

**Ready**

- 실행 전 프로세스들의 상태
- 스케줄러가 Running 상태로 전환해 줄 때까지 대기

**Running**

- 스케줄러가 선택한 프로세스가 실행 중인 상태

**Blocked**

- CPU에 의존적이지 않은 연산(I/O)이 머무르다가 완료되면 Ready 상태로 전환
- CPU에 의존적이지 않은 연산(I/O)과 CPU에 의존적인 연산(사칙연산)의 병행을 위해 존재

## 컨텍스트 스위칭

둘 이상의 프로세스가 실행될 때 `메모리`와 `레지스터 셋`에 들어가는 데이터를 전환하는 작업

- 대상이 많으면 많을수록 부담

## 프로세스의 생성

프로세스 생성 함수(CreateProcess)를 실행하기 위한 흐름

- LPSTARTUPINFO: 프로세스 특성 정보를 설정하는 구조체 (정보 전달)
  - 구조체 변수의 크기: 전달되는 구조체를 구분
  - 콘솔 윈도우의 타이틀 바 제목
  - 프로세스 윈도우의 x, y 좌표
  - 프로세스 윈도우의 가로, 세로 길이
- CreateProcess: 구조체에서 전달받은 정보를 참조하여 프로세스 생성
- LPPROCESS_INFORMATION: 생성된 프로세스 정보가 채워지는 구조체 (정보 반환)

## 프로세스 생성 조건

- 자식 프로세스
- 부모 프로세스
- 표준 검색경로
  - 실행 중인 프로세스의 실행파일이 존재하는 디렉토리
  - 실행 중인 프로세스의 현재 디렉토리
  - Windows의 시스템 디렉토리
  - Windows 디렉토리
  - 환경변수 PATH에 의해 지정되어 있는 디렉토리