{"componentChunkName":"component---src-templates-blog-post-js","path":"/Computer Science/메모리-관리(virtual-memory,-heap,-mmf)/","result":{"data":{"site":{"siteMetadata":{"title":"makeitmin.io","author":"Seongmin Ha","siteUrl":"https://makeitmin.github.io","comment":{"disqusShortName":"","utterances":"makeitmin/makeitmin.github.io"},"sponsor":{"buyMeACoffeeId":""}}},"markdownRemark":{"id":"0e3b1273-1cc0-5aa6-8bc5-22b1ab7c3305","excerpt":"가상메모리(Virtual Memory) 컨트롤 메모리 할당 상태 Commit: 물리 메모리 할당 상태 Free: 물리 메모리 비할당 상태 Reserve: 필요 시 물리 메모리에 매핑 가능한 상태 낭비를 막고 순차적인 메모리 사용 메모리 할당의 시작점(Allocation Granularity Boundary) 메모리 할당의 지나친 단편화를 방지하기 위해 배수로 페이지 할당 할당할 메모리의 크기 최소 1페이지 이상 VirtualAlloc 과 VirtualFree 함수 malloc 함수와 free…","html":"<h2 id=\"가상메모리virtual-memory-컨트롤\" style=\"position:relative;\"><a href=\"#%EA%B0%80%EC%83%81%EB%A9%94%EB%AA%A8%EB%A6%ACvirtual-memory-%EC%BB%A8%ED%8A%B8%EB%A1%A4\" aria-label=\"가상메모리virtual memory 컨트롤 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>가상메모리(Virtual Memory) 컨트롤</h2>\n<h3 id=\"메모리-할당-상태\" style=\"position:relative;\"><a href=\"#%EB%A9%94%EB%AA%A8%EB%A6%AC-%ED%95%A0%EB%8B%B9-%EC%83%81%ED%83%9C\" aria-label=\"메모리 할당 상태 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>메모리 할당 상태</h3>\n<ul>\n<li><strong>Commit</strong>: 물리 메모리 할당 상태</li>\n<li><strong>Free</strong>: 물리 메모리 비할당 상태</li>\n<li>\n<p><strong>Reserve</strong>: 필요 시 물리 메모리에 매핑 가능한 상태</p>\n<ul>\n<li>낭비를 막고 순차적인 메모리 사용</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"메모리-할당의-시작점allocation-granularity-boundary\" style=\"position:relative;\"><a href=\"#%EB%A9%94%EB%AA%A8%EB%A6%AC-%ED%95%A0%EB%8B%B9%EC%9D%98-%EC%8B%9C%EC%9E%91%EC%A0%90allocation-granularity-boundary\" aria-label=\"메모리 할당의 시작점allocation granularity boundary permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>메모리 할당의 시작점(Allocation Granularity Boundary)</h3>\n<ul>\n<li>메모리 할당의 지나친 단편화를 방지하기 위해 배수로 페이지 할당</li>\n</ul>\n<h3 id=\"할당할-메모리의-크기\" style=\"position:relative;\"><a href=\"#%ED%95%A0%EB%8B%B9%ED%95%A0-%EB%A9%94%EB%AA%A8%EB%A6%AC%EC%9D%98-%ED%81%AC%EA%B8%B0\" aria-label=\"할당할 메모리의 크기 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>할당할 메모리의 크기</h3>\n<ul>\n<li>최소 1페이지 이상</li>\n</ul>\n<h3 id=\"virtualalloc-과-virtualfree-함수\" style=\"position:relative;\"><a href=\"#virtualalloc-%EA%B3%BC-virtualfree-%ED%95%A8%EC%88%98\" aria-label=\"virtualalloc 과 virtualfree 함수 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>VirtualAlloc 과 VirtualFree 함수</h3>\n<ul>\n<li>malloc 함수와 free 함수로는 Reserve 상태를 설명 불가</li>\n<li>\n<p>VirtualFree 함수의 반환 기능</p>\n<ul>\n<li>Commit 상태의 가상 메모리를 Reserve 상태나 Free 상태로 전환</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"힙heap-컨트롤\" style=\"position:relative;\"><a href=\"#%ED%9E%99heap-%EC%BB%A8%ED%8A%B8%EB%A1%A4\" aria-label=\"힙heap 컨트롤 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>힙(Heap) 컨트롤</h2>\n<h3 id=\"dynamic-heap의-장점\" style=\"position:relative;\"><a href=\"#dynamic-heap%EC%9D%98-%EC%9E%A5%EC%A0%90\" aria-label=\"dynamic heap의 장점 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Dynamic Heap의 장점</h3>\n<ul>\n<li>데이터 효율보다 데이터 분리(관리)에 집중</li>\n<li>\n<p>메모리 단편화 해소</p>\n<ul>\n<li>프로그램의 Locality 감소</li>\n</ul>\n</li>\n<li>\n<p>메모리 할당 동기화 문제 해소</p>\n<ul>\n<li>쓰레드별 Heap 생성</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"dynamic-heap-생성-및-할당\" style=\"position:relative;\"><a href=\"#dynamic-heap-%EC%83%9D%EC%84%B1-%EB%B0%8F-%ED%95%A0%EB%8B%B9\" aria-label=\"dynamic heap 생성 및 할당 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Dynamic Heap 생성 및 할당</h3>\n<ul>\n<li><strong>HeapCreate</strong>: 생성</li>\n<li><strong>HeapDestroy</strong>: 소멸</li>\n<li><strong>HeapAlloc</strong>: 할당</li>\n<li><strong>HeapFree</strong>: 해제</li>\n</ul>\n<h2 id=\"mmfmemory-mapped-file\" style=\"position:relative;\"><a href=\"#mmfmemory-mapped-file\" aria-label=\"mmfmemory mapped file permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>MMF(Memory Mapped File)</h2>\n<ul>\n<li>파일의 일부 메모리 공간을 프로세스의 가상 메모리에 연결</li>\n<li>프로세스의 가상 메모리에 데이터 할당하고 파일의 해당 공간에 데이터를 반영</li>\n<li>파일 데이터를 메인 메모리에서 작업하면 파일에 바로 반영</li>\n</ul>\n<h3 id=\"mmf의-장점\" style=\"position:relative;\"><a href=\"#mmf%EC%9D%98-%EC%9E%A5%EC%A0%90\" aria-label=\"mmf의 장점 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>MMF의 장점</h3>\n<ul>\n<li>\n<p>가상 메모리에 데이터를 작업하여 가상 메모리에 가장 최신의 데이터 존재</p>\n<ul>\n<li>데이터를 읽어올 때 메모리만 조회</li>\n</ul>\n</li>\n<li>가상 메모리에는 빈번한 I/O가 발생시켜 가장 최신의 데이터 저장</li>\n<li>파일에는 주기적, 상황적 I/O를 발생시켜 속도 확보</li>\n</ul>\n<h3 id=\"mmr-실행-과정\" style=\"position:relative;\"><a href=\"#mmr-%EC%8B%A4%ED%96%89-%EA%B3%BC%EC%A0%95\" aria-label=\"mmr 실행 과정 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>MMR 실행 과정</h3>\n<ol>\n<li><strong>CreateFile</strong>: 파일 생성</li>\n<li><strong>CreateFileMapping</strong>: 가상 메모리를 매핑할 파일 정보를 담은 파일 연결 오브젝트 생성</li>\n<li><strong>MapViewOfFile</strong>: 가상 메모리에 파일 연결</li>\n</ol>\n<h2 id=\"참고자료\" style=\"position:relative;\"><a href=\"#%EC%B0%B8%EA%B3%A0%EC%9E%90%EB%A3%8C\" aria-label=\"참고자료 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>참고자료</h2>\n<ul>\n<li>뇌를 자극하는 윈도우즈 시스템 프로그래밍 (<a href=\"http://www.kyobobook.co.kr/product/detailViewKor.laf?ejkGb=KOR&#x26;mallGb=KOR&#x26;barcode=9788979144611&#x26;orderClick=LEa&#x26;Kc=\">도서</a>, <a href=\"https://www.inflearn.com/course/%EC%8B%9C%EC%8A%A4%ED%85%9C-%ED%94%84%EB%A1%9C%EA%B7%B8%EB%9E%98%EB%B0%8D\">강의</a>)</li>\n</ul>","frontmatter":{"title":"메모리 관리(Virtual Memory, Heap, MMF)","date":"2021-11-14"}}},"pageContext":{"slug":"/Computer Science/메모리-관리(virtual-memory,-heap,-mmf)/","previous":{"fields":{"slug":"/Computer Science/컴퓨터-구조에-대한-네-번째-이야기/"},"frontmatter":{"title":"컴퓨터 구조에 대한 네 번째 이야기"}},"next":null}}}